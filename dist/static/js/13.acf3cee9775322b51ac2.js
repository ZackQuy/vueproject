webpackJsonp([13],{464:function(e,t,a){function n(e){a(948)}var s=a(25)(a(910),a(969),n,null,null);e.exports=s.exports},910:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(73);t.default={data:function(){return{eventinfo:{name:""},risk_1:["emulator","modify","javahook","soana","mockdev"],risk_2:["attframe","chook","inject","scandex","root","cheatdns"],renderData:[{name:"高危信息",risk_level:"high",risk_types:{emulator:!1,modify:!1,javahook:!1,soana:!1,mockdev:!1,attframe:!1,chook:!1,inject:!1,scandex:!1,root:!1,cheatdns:!1}},{name:"中危信息",risk_level:"middle",risk_types:{emulator:!1,modify:!1,javahook:!1,soana:!1,mockdev:!1,attframe:!1,chook:!1,inject:!1,scandex:!1,root:!1,cheatdns:!1}},{name:"低危信息",risk_level:"low",risk_types:{emulator:!1,modify:!1,javahook:!1,soana:!1,mockdev:!1,attframe:!1,chook:!1,inject:!1,scandex:!1,root:!1,cheatdns:!1}},{name:"其他信息",risk_types:{emulator:!1,modify:!1,javahook:!1,soana:!1,mockdev:!1,attframe:!1,chook:!1,inject:!1,scandex:!1,root:!1,cheatdns:!1}}]}},methods:{eventCreate:function(){var e=this,t=this.renderData.map(function(e){var t=[];for(var a in e.risk_types)e.risk_types[a]&&t.push(a);return{name:e.name,risk_level:e.risk_level,risk_types:t}}).filter(function(e){return e.risk_types.length}),a={name:this.eventinfo.name,data:JSON.stringify(t)},n=[{valid:this.eventinfo.name.length>3,msg:"请确认自定义事件名称长度不少于4位"},{valid:this.eventinfo.name.length<17,msg:"请确认自定义事件名称长度不超过16位"},{valid:this.$rules.name_rule(this.eventinfo.name),msg:"请确认自定义事件名称不包含特殊字符"},{valid:t.length,msg:"当前自定义事件未包含任何仿真或卡通"}],s=this.renderData.find(function(e){return!e.name}),i=this.renderData.find(function(e){return e.name.length<3}),r=this.renderData.find(function(e){return e.name.length>16}),o=this.renderData.find(function(t){return!e.$rules.name_rule(t.name)});s&&n.splice(1,0,{valid:"",msg:"请输入事件等级名称, 长度应不少于4位且不多于16位"}),i&&n.splice(2,0,{valid:"",msg:"当前设置的事件等级名称'"+i.name+"'长度少于4位"}),r&&n.splice(3,0,{valid:"",msg:"当前设置的事件等级名称'"+r.name+"'长度多于16位"}),o&&n.splice(4,0,{valid:"",msg:"当前设置的事件等级名称'"+o.name+"'包含特殊字符"}),this.$valid(n).then(function(){e.$store.dispatch("events/EventCreate",a)})},addClass:function(){this.renderData.push({name:"",risk_types:{emulator:!1,modify:!1,javahook:!1,soana:!1,mockdev:!1,attframe:!1,chook:!1,inject:!1,scandex:!1,root:!1,cheatdns:!1}})},removeClass:function(e){this.renderData.splice(e,1)},handleChange:function(e,t){this.renderData.forEach(function(a,n){n!==e&&(a.risk_types[t]=!1)})}},computed:n({},(0,s.mapState)("events",["event_reflect"])),mounted:function(){}}},931:function(e,t,a){t=e.exports=a(459)(!1),t.push([e.i,".page_events_create .page_strates_info{margin:10px auto}.page_events_create .page_body{position:relative}.page_events_create .cell{padding:0 2px}.page_events_create .strates_pool{margin-top:10px}.page_events_create .tag_parnode{text-align:left;padding:4px}.page_events_create .col_1,.page_events_create .col_2,.page_events_create .col_3{height:35px;line-height:35px}.page_events_create .l_h_30{line-height:30px}.page_events_create .font_small_title{font-size:14px;color:#333}.page_events_create .col_1{text-align:left}.page_events_create .col_2{text-align:center;font-size:15px}.page_events_create .col_3{text-align:right}.page_events_create .legend_layout{padding:30px;border:1px solid #c9c9c9;border-radius:2px;position:relative;margin:30px 0 40px}.page_events_create .legend_layout .legend_title{position:absolute;background:#fff;color:#222;top:-20px;left:20px;padding:4px}.page_events_create .legend_layout .el-checkbox{min-width:130px;width:14%}.page_events_create .edit_box .edit_box_1{display:inline-block;width:150px}.page_events_create .edit_box .edit_box_2{display:inline-block;margin-left:10px;width:34px}",""])},948:function(e,t,a){var n=a(931);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(460)("440cfdbd",n,!0)},969:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_inner page_events_create"},[a("div",{staticClass:"page_head"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/config/events"}}},[e._v("自定义事件")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/config/events_create"}}},[e._v("新建自定义事件")])],1)],1),e._v(" "),a("div",{staticClass:"page_body"},[a("div",{staticClass:"page_strates_info"},[a("el-row",{attrs:{align:"bottom"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"col_1"},[a("el-input",{attrs:{placeholder:"请输入自定义事件名称"},model:{value:e.eventinfo.name,callback:function(t){e.eventinfo.name=t},expression:"eventinfo.name"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7,offset:9}},[a("div",{staticClass:"col_3"},[a("el-button",{attrs:{type:"success"},on:{click:e.eventCreate}},[e._v("保存")])],1)])],1)],1),e._v(" "),a("div",{staticClass:"event_level_more"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"l_h_30"},[e._v("事件等级定义")])]),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"l_h_30"},[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:e.addClass}})],1)])],1)],1),e._v(" "),e._l(e.renderData,function(t,n){return a("div",{staticClass:"legend_layout"},[a("div",{staticClass:"legend_title edit_box"},[a("div",{staticClass:"edit_box_1"},[a("el-input",{attrs:{size:"small",placeholder:"请输入事件等级名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"risk_class.name"}})],1),e._v(" "),n>3?a("div",{staticClass:"edit_box_2"},[a("el-button",{attrs:{type:"primary",icon:"delete",size:"small"},on:{click:function(t){e.removeClass(n)}}})],1):e._e()]),e._v(" "),a("div",{staticClass:"legend_body"},[a("el-row",{staticClass:"l_h_30"},[a("el-col",{attrs:{span:1}},[a("span",{staticClass:"font_small_title"},[e._v("仿真")])]),e._v(" "),e._l(e.risk_1,function(s){return[a("el-checkbox",{on:{change:function(t){e.handleChange(n,s)}},model:{value:t.risk_types[s],callback:function(e){var a=t.risk_types,n=s;Array.isArray(a)?a.splice(n,1,e):t.risk_types[s]=e},expression:"risk_class.risk_types[ri]"}},[e._v("\n                "+e._s(e.event_reflect[s])+"\n              ")])]})],2),e._v(" "),a("el-row",{staticClass:"l_h_30"},[a("el-col",{attrs:{span:1}},[a("span",{staticClass:"font_small_title"},[e._v("卡通")])]),e._v(" "),e._l(e.risk_2,function(s){return[a("el-checkbox",{on:{change:function(t){e.handleChange(n,s)}},model:{value:t.risk_types[s],callback:function(e){var a=t.risk_types,n=s;Array.isArray(a)?a.splice(n,1,e):t.risk_types[s]=e},expression:"risk_class.risk_types[ri]"}},[e._v("\n                "+e._s(e.event_reflect[s])+"\n              ")])]})],2)],1)])})],2)])},staticRenderFns:[]}}});