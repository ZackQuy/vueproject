webpackJsonp([14],{463:function(t,e,n){function a(t){n(947)}var s=n(25)(n(909),n(968),a,null,null);t.exports=s.exports},909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},s=n(73);e.default={data:function(){return{event_id:0}},methods:{eventCreate:function(){this.$router.push({path:"/config/events_create"})},eventStart:function(){var t={id:this.event_id};this.$store.dispatch("events/EventsStart",t)},eventEdit:function(){},eventDelete:function(t){var e=this;this.$confirm("自定义事件被删除后无法恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("events/EventDelete",{id:t})}).catch(function(){})}},computed:a({},(0,s.mapState)("events",["events_list","event_reflect"])),watch:{events_list:function(t){t.length&&(this.event_id=t[0].id)}},mounted:function(){this.$store.dispatch("events/EventsList")}}},930:function(t,e,n){e=t.exports=n(459)(!1),e.push([t.i,".page_events .page_strates_info{margin:10px auto}.page_events .page_body{position:relative}.page_events .cell{padding:0 2px}.page_events .strates_pool{margin-top:10px}.page_events .tag_parnode{text-align:left;padding:4px}.page_events .col_1,.page_events .col_2,.page_events .col_3{height:35px;line-height:35px}.page_events .col_1{text-align:left}.page_events .col_2{text-align:center;font-size:15px}.page_events .col_3{text-align:right}.page_events .l_h_30{line-height:30px}.page_events .cont_details{box-sizing:border-box;padding:6px 10px}.page_events .cont_details .cont_det{line-height:30px;height:30px;width:100%;position:relative}.page_events .cont_details .cont_det .cont_det_c1{position:absolute;width:70px;text-align:right;left:0;top:0}.page_events .cont_details .cont_det .cont_det_c2{position:absolute;height:30px;overflow:hidden;left:80px;text-align:left;top:0;width:calc(1 - $col_1 - $col_3)}.page_events .cont_details .cont_det .cont_det_c2 .el-tag{margin-right:20px;display:inline-block;min-width:100px;text-align:center}.page_events .cont_details .cont_det .cont_det_c3{position:absolute;width:40px;right:0;top:0}",""])},947:function(t,e,n){var a=n(930);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(460)("629a0dcb",a,!0)},968:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page_inner page_events"},[n("div",{staticClass:"page_head"},[n("el-breadcrumb",{attrs:{separator:">"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/config/events"}}},[t._v("自定义事件")])],1)],1),t._v(" "),n("div",{staticClass:"page_body"},[n("div",{staticClass:"page_strates_info"},[n("el-col",{attrs:{span:14,offset:5}},[n("div",{staticClass:"col_2"},[n("div",{staticClass:"note_info"},[n("span",[n("i",{staticClass:"iconfont icon-dengpao"}),t._v(" "),n("span",{},[t._v("备注:")])]),t._v(" "),n("span",{staticClass:"note_info_right"},[t._v("仅从未启用过的自定义事件才可以删除")])])])]),t._v(" "),n("el-row",{attrs:{align:"bottom"}},[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"col_3"},[n("el-button",{attrs:{type:"primary"},on:{click:t.eventCreate}},[t._v("新建")]),t._v(" "),n("el-button",{attrs:{type:"success"},on:{click:t.eventStart}},[t._v("启用")])],1)])],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:!0,"highlight-current-row":!1,data:t.events_list}},[n("el-table-column",{attrs:{width:"60",label:"选择",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-radio",{staticClass:"radio",attrs:{label:e.row.id},model:{value:t.event_id,callback:function(e){t.event_id=e},expression:"event_id"}},[t._v("\n            "+t._s("")+"\n          ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.event_status?n("span",[t._v("未启用")]):t._e(),t._v(" "),1==e.row.event_status?n("span",[t._v("启用中")]):t._e(),t._v(" "),2==e.row.event_status?n("span",[t._v("启用过")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"序号",width:"60",align:"center",prop:"_order"}}),t._v(" "),n("el-table-column",{attrs:{label:"自定义事件名称",width:"200",align:"center",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{label:"具体内容",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"cont_details"},t._l(e.row.content,function(e){return n("div",{staticClass:"cont_det"},[n("div",{staticClass:"cont_det_c1 s_l_e",attrs:{title:e.name},domProps:{textContent:t._s(e.name+":")}}),t._v(" "),n("div",{staticClass:"cont_det_c2"},t._l(e.risk_types,function(e){return n("el-tag",{key:e,attrs:{type:"primary"},domProps:{textContent:t._s(t.event_reflect[e])}})})),t._v(" "),e.risk_types.length>3?n("div",{staticClass:"cont_det_c3"},[n("el-popover",{attrs:{placement:"left",width:"200",trigger:"hover"}},[n("div",{staticClass:"basic_popover"},[t._l(e.risk_types,function(e){return[n("el-tag",{attrs:{type:"primary"},domProps:{textContent:t._s(t.event_reflect[e])}})]})],2),t._v(" "),n("el-button",{attrs:{type:"text",icon:"more"},slot:"reference"})],1)],1):t._e()])}))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.event_status?[n("i",{staticClass:"icon_edit iconfont icon-laji",on:{click:function(n){t.eventDelete(e.row.id)}}})]:[n("i",{staticClass:"icon_edit iconfont icon-laji cursor_na"})]]}}])})],1)],1)])},staticRenderFns:[]}}});